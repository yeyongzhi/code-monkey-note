# openlayers中瓦片缓存机制的实现
——离线地图

## 背景
在项目开发中，碰到一个需求：离线地图的使用。在无网络环境下，普通的网络请求加载瓦片必然是行不通的，因此需要将瓦片离线缓存到设备中，然后再从设备中加载。
项目使用的是`Tauri`框架开发的`exe桌面应用`，因此可以直接将瓦片缓存到本地文件系统中。
如果是传统的web应用，也可以使用`IndexedDB`来存储瓦片。
两者的实现思路是完全一致的，只是存储的方式不同。

## 实现

最基础的一个思路就是：
1. 在正常网络环境下，每次`请求瓦片`时，将瓦片缓存到本地文件系统中，并记录瓦片的位置索引信息`（x,y,x）`。
2. 然后在每次瓦片渲染的时候，直接**从本地文件系统中加载瓦片**即可。

## 参考